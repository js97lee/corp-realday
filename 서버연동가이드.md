# 서버 연동 가이드

## 전체 구조

이 프로젝트는 **프론트엔드(React)**와 **백엔드(Express)**로 구성되어 있습니다.

```
프로젝트/
├── src/              # React 프론트엔드
├── server/           # Express 백엔드 서버
└── package.json       # 프론트엔드 의존성
```

## 실행 방법

### 1. 프론트엔드 실행 (포트 3000)

```bash
# 프로젝트 루트에서
npm install
npm run dev
```

프론트엔드는 `http://localhost:3000`에서 실행됩니다.

### 2. 백엔드 서버 실행 (포트 5000)

**새 터미널 창을 열고:**

```bash
# server 디렉토리로 이동
cd server

# 의존성 설치
npm install

# 서버 실행
npm run dev
```

백엔드 서버는 `http://localhost:5000`에서 실행됩니다.

## 환경 변수 설정

### 프론트엔드 (.env 파일 생성)

프로젝트 루트에 `.env` 파일을 생성하세요:

```
VITE_API_URL=http://localhost:5000/api
```

### 백엔드 (server/.env 파일 생성)

`server` 디렉토리에 `.env` 파일을 생성하세요:

```
PORT=5000
JWT_SECRET=your-secret-key-here
ADMIN_EMAIL=admin@real-day.com
ADMIN_PASSWORD=admin123
```

## API 엔드포인트

### 1. Admin 로그인
- **URL**: `POST /api/admin/login`
- **Body**: 
  ```json
  {
    "email": "admin@real-day.com",
    "password": "admin123"
  }
  ```
- **Response**:
  ```json
  {
    "success": true,
    "message": "로그인 성공",
    "user": { "id": 1, "email": "admin@real-day.com" },
    "token": "mock-jwt-token"
  }
  ```

### 2. Contact 폼 제출
- **URL**: `POST /api/contact`
- **Body**:
  ```json
  {
    "name": "홍길동",
    "email": "test@example.com",
    "message": "문의 내용"
  }
  ```
- **Response**:
  ```json
  {
    "success": true,
    "message": "메시지가 전송되었습니다!",
    "contact": { ... }
  }
  ```

## 테스트 방법

1. **프론트엔드와 백엔드 모두 실행**
2. 브라우저에서 `http://localhost:3000` 접속
3. `/admin` 페이지에서 로그인 테스트:
   - 이메일: `admin@real-day.com`
   - 비밀번호: `admin123`
4. `/contact` 페이지에서 폼 제출 테스트

## 문제 해결

### CORS 오류가 발생하는 경우
백엔드 서버의 `cors` 미들웨어가 이미 설정되어 있습니다. 
만약 문제가 발생하면 `server/server.js`에서 CORS 설정을 확인하세요.

### API 연결이 안 되는 경우
1. 백엔드 서버가 실행 중인지 확인
2. `.env` 파일의 `VITE_API_URL`이 올바른지 확인
3. 브라우저 개발자 도구의 Network 탭에서 요청 확인

## 프로덕션 배포 시

1. **환경 변수**: 실제 서버 URL로 변경
2. **보안**: 
   - JWT 토큰 인증 구현
   - 비밀번호 해싱 (bcrypt)
   - HTTPS 사용
3. **데이터베이스**: MongoDB, PostgreSQL 등 연결
4. **에러 핸들링**: 더 상세한 에러 처리
5. **로깅**: Winston, Morgan 등 사용


